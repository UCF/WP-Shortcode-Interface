var WPSCIF;!function(e){var t=function(){function e(){var e=this;this.$toggle=jQuery("#add-shortcode"),this.$submitBtn=jQuery("#wp-scif-submit"),this.$select=jQuery("#wp-scif-select"),this.selectedShortcode=null,this.$fields=jQuery(".wp-scif-field"),this.$toggle.click(function(t){e.resetForm()}),this.$submitBtn.click(function(t){e.onSubmitBtnClick(t)}),this.$select.change(function(t){e.onSelectChanged(t)})}return e.prototype.resetForm=function(){this.editor=tinyMCE.activeEditor?tinyMCE.activeEditor:null,this.$select.val("").trigger("change"),this.$fields.prop("checked",!1),this.$fields.each(function(e,t){var i=jQuery(t);"checkbox"!==i.prop.type&&i.val("")})},e.prototype.validateForm=function(){var e=0;return this.$fields.each(function(t,i){var r=jQuery(i),o=r.data("scif-param");r.data("scif-required")&&""===r.val()?(jQuery("."+o+"-error").addClass("active"),e++):jQuery("."+o+"-error").removeClass("active")}),!e},e.prototype.getFormValues=function(){var e={command:this.selectedShortcode,params:{}};this.$fields.each(function(t,i){var r=jQuery(i),o=r.data("scif-param"),c="";switch(r.prop("tagName")){case"INPUT":case"TEXTAREA":case"SELECT":if("checkbox"===r.prop("type"))if(r.hasClass("checkbox-list-item")){if(!r.prop("checked"))break;c=r.val()}else c=String(r.prop("checked"));else c=r.val();break;default:c=r.val()}c&&(void 0!==e.params[o]?e.params[o]+=","+c:e.params[o]=c)}),this.insertShortcode(e)},e.prototype.insertShortcode=function(e){var t=null;this.editor&&(t=this.editor.selection.getContent());var i="["+e.command;if(e.params)for(var r in e.params)i+=" "+r+'="'+e.params[r]+'"';i+="]",t&&(i+=t+"[/"+e.command+"]"),send_to_editor(i)},e.prototype.onSubmitBtnClick=function(e){e.preventDefault();var t=this.$select.val();jQuery(".shortcode-"+t).find(".wp-scif-field");this.validateForm()&&this.getFormValues()},e.prototype.onSelectChanged=function(e){this.selectedShortcode=this.$select.val(),0===this.selectedShortcode.length&&jQuery("#wp-scif-form-inner .active").removeClass("active"),jQuery(".shortcode-"+this.selectedShortcode).addClass("active")},e}();e.ShortcodeInterface=t}(WPSCIF||(WPSCIF={})),"undefined"!=typeof jQuery&&jQuery(document).ready(function(){new WPSCIF.ShortcodeInterface});
//# sourceMappingURL=wp-scif.min.js.map
